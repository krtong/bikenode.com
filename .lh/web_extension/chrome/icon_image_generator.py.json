{
    "sourceFile": "web_extension/chrome/icon_image_generator.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1740741616689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1740741616689,
            "name": "Commit-0",
            "content": "def create_chrome_extension_icons(source_image_path, output_dir=\"./web_extension/chrome/images\"):\n    \"\"\"Generate proper Chrome extension icons while maintaining aspect ratio\"\"\"\n    if not os.path.exists(output_dir):\n        os.makedirs(output_dir)\n    \n    try:\n        img = Image.open(source_image_path)\n        print(f\"\\nOriginal image: {source_image_path}\")\n        print(f\"Generating Chrome extension icons...\")\n        \n        # Chrome extension standard icon sizes\n        extension_icons = {\n            \"icon16.png\": 16,\n            \"icon32.png\": 32,\n            \"icon48.png\": 48,\n            \"icon128.png\": 128\n        }\n        \n        results = []\n        \n        for filename, size in extension_icons.items():\n            # Create a square version by cropping to maintain aspect ratio\n            img_copy = img.copy()\n            min_dimension = min(img_copy.width, img_copy.height)\n            \n            # Calculate crop box\n            left = (img_copy.width - min_dimension) // 2\n            top = (img_copy.height - min_dimension) // 2\n            right = left + min_dimension\n            bottom = top + min_dimension\n            \n            # Crop to square and resize\n            square_img = img_copy.crop((left, top, right, bottom))\n            resized_img = square_img.resize((size, size), Image.LANCZOS)\n            \n            output_path = os.path.join(output_dir, filename)\n            resized_img.save(output_path, optimize=True, quality=90)\n            \n            file_size = os.path.getsize(output_path) / 1024\n            results.append({\n                \"filename\": filename,\n                \"size\": f\"{size}x{size}\",\n                \"file_size\": f\"{file_size:.2f} KB\"\n            })\n        \n        # Print results\n        print(\"\\n✅ Generated Chrome Extension Icons:\")\n        print(\"{:<20} {:<15} {:<12}\".format(\"FILENAME\", \"DIMENSIONS\", \"FILE SIZE\"))\n        print(\"-\" * 47)\n        for result in results:\n            print(\"{:<20} {:<15} {:<12}\".format(\n                result[\"filename\"], result[\"size\"], result[\"file_size\"]\n            ))\n        \n        print(f\"\\n➡️ All icons have been saved to '{output_dir}'\")\n        return True\n        \n    except Exception as e:\n        print(f\"Error processing image: {e}\")\n        return False"
        }
    ]
}