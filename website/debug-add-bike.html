<!DOCTYPE html>
<html>
<head>
    <title>Debug Add Bike</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .error { color: red; }
        .success { color: green; }
        pre { background: #f0f0f0; padding: 10px; overflow: auto; }
    </style>
</head>
<body>
    <h1>Debug Add Bike Data Loading</h1>
    <div id="status"></div>
    <pre id="output"></pre>

    <script type="module">
        const status = document.getElementById('status');
        const output = document.getElementById('output');
        
        async function debugDataLoading() {
            status.innerHTML = '<p>Starting data load test...</p>';
            
            try {
                // Import the data loader
                const { loadVehicleData } = await import('./src/add-bike/js/data-loader.js');
                status.innerHTML += '<p class="success">✓ Successfully imported data-loader.js</p>';
                
                // Try to load data
                status.innerHTML += '<p>Calling loadVehicleData()...</p>';
                const bikeData = await loadVehicleData();
                
                status.innerHTML += '<p class="success">✓ Data loaded successfully!</p>';
                output.textContent = JSON.stringify(bikeData, null, 2);
                
                // Show summary
                status.innerHTML += `<p>Loaded ${bikeData.brands.bicycle.length} bicycle brands</p>`;
                status.innerHTML += `<p>Loaded ${bikeData.brands.motorcycle.length} motorcycle brands</p>`;
                
            } catch (error) {
                status.innerHTML += `<p class="error">✗ Error: ${error.message}</p>`;
                output.textContent = error.stack;
                console.error('Debug error:', error);
            }
        }
        
        // Run on load
        window.addEventListener('DOMContentLoaded', debugDataLoading);
    </script>
</body>
</html>