<!DOCTYPE html>
<html>
<head>
    <title>Test Add Bike Component</title>
</head>
<body>
    <h1>Test Add Bike Data Loading</h1>
    <button onclick="testAPI()">Test API</button>
    <pre id="output"></pre>

    <script>
        const output = document.getElementById('output');
        
        async function testAPI() {
            output.textContent = 'Testing API endpoints...\n\n';
            
            try {
                // Test 1: Bicycle manufacturers
                output.textContent += '1. Testing bicycle manufacturers:\n';
                const bicycleResp = await fetch('http://localhost:8080/api/bicycles/manufacturers');
                const bicycleData = await bicycleResp.json();
                output.textContent += `   Status: ${bicycleResp.status}\n`;
                output.textContent += `   Data: ${JSON.stringify(bicycleData, null, 2)}\n\n`;
                
                // Test 2: Motorcycle makes
                output.textContent += '2. Testing motorcycle makes:\n';
                const motorcycleResp = await fetch('http://localhost:8080/api/motorcycles/makes');
                const motorcycleData = await motorcycleResp.json();
                output.textContent += `   Status: ${motorcycleResp.status}\n`;
                output.textContent += `   Data: ${JSON.stringify(motorcycleData.slice(0, 5), null, 2)}... (showing first 5)\n\n`;
                
                // Test 3: Check CORS headers
                output.textContent += '3. Checking CORS headers:\n';
                output.textContent += `   Access-Control-Allow-Origin: ${bicycleResp.headers.get('Access-Control-Allow-Origin')}\n`;
                
            } catch (error) {
                output.textContent += `\nERROR: ${error.message}\n`;
                output.textContent += `Stack: ${error.stack}\n`;
            }
        }
        
        // Auto-run on load
        window.addEventListener('load', testAPI);
    </script>
</body>
</html>