<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BikeNode Complete Database Schema</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #e5e7eb;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #3b82f6;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #9ca3af;
            margin-bottom: 40px;
        }
        
        .database-tree {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .module {
            background: #1f2937;
            border: 2px solid #374151;
            border-radius: 8px;
            padding: 20px;
        }
        
        .module-header {
            font-size: 1.5rem;
            color: #60a5fa;
            margin-bottom: 20px;
            border-bottom: 2px solid #374151;
            padding-bottom: 10px;
        }
        
        .table {
            background: #111827;
            border: 1px solid #4b5563;
            border-radius: 6px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .table-header {
            background: #1f2937;
            padding: 15px;
            font-size: 1.2rem;
            color: #f9fafb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .table-header:hover {
            background: #374151;
        }
        
        .table-content {
            padding: 20px;
            display: none;
        }
        
        .table.expanded .table-content {
            display: block;
        }
        
        .fields-section, .pages-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-weight: bold;
            color: #a78bfa;
            margin-bottom: 10px;
        }
        
        .field-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .field-item {
            padding: 5px 0;
            font-family: monospace;
            color: #d1d5db;
            font-size: 0.9rem;
        }
        
        .field-name {
            color: #60a5fa;
        }
        
        .field-type {
            color: #34d399;
        }
        
        .field-constraint {
            color: #f59e0b;
        }
        
        .page-usage {
            background: #1f2937;
            border: 1px solid #374151;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 10px;
        }
        
        .page-name {
            color: #fbbf24;
            font-weight: bold;
        }
        
        .fields-used {
            color: #9ca3af;
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        .expand-icon {
            transition: transform 0.3s;
        }
        
        .table.expanded .expand-icon {
            transform: rotate(90deg);
        }
        
        .stats-summary {
            background: #1f2937;
            border: 2px solid #374151;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: #111827;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #4b5563;
        }
        
        .stat-value {
            font-size: 2rem;
            color: #3b82f6;
            font-weight: bold;
        }
        
        .stat-label {
            color: #9ca3af;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>BikeNode Complete Database Schema</h1>
        <p class="subtitle">All Tables, Fields, and Page Usage</p>
        
        <div class="stats-summary">
            <h2>Database Overview</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">45</div>
                    <div class="stat-label">Total Tables</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">~450</div>
                    <div class="stat-label">Total Fields</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">60+</div>
                    <div class="stat-label">Pages</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">8</div>
                    <div class="stat-label">Modules</div>
                </div>
            </div>
        </div>
        
        <div class="database-tree">
            <!-- User & Auth Module -->
            <div class="module">
                <h2 class="module-header">User & Auth Module</h2>
                
                <div class="table expanded">
                    <div class="table-header" onclick="toggleTable(this)">
                        <span>users</span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="table-content">
                        <div class="fields-section">
                            <div class="section-title">Fields:</div>
                            <ul class="field-list">
                                <li class="field-item"><span class="field-name">id</span> <span class="field-type">UUID</span> <span class="field-constraint">PRIMARY KEY</span></li>
                                <li class="field-item"><span class="field-name">email</span> <span class="field-type">VARCHAR(255)</span> <span class="field-constraint">UNIQUE, NOT NULL</span></li>
                                <li class="field-item"><span class="field-name">username</span> <span class="field-type">VARCHAR(50)</span> <span class="field-constraint">UNIQUE, NOT NULL</span></li>
                                <li class="field-item"><span class="field-name">password_hash</span> <span class="field-type">VARCHAR(255)</span> <span class="field-constraint">NOT NULL</span></li>
                                <li class="field-item"><span class="field-name">profile_image</span> <span class="field-type">VARCHAR(500)</span></li>
                                <li class="field-item"><span class="field-name">bio</span> <span class="field-type">TEXT</span></li>
                                <li class="field-item"><span class="field-name">location</span> <span class="field-type">VARCHAR(255)</span></li>
                                <li class="field-item"><span class="field-name">created_at</span> <span class="field-type">TIMESTAMP</span> <span class="field-constraint">DEFAULT NOW()</span></li>
                                <li class="field-item"><span class="field-name">updated_at</span> <span class="field-type">TIMESTAMP</span></li>
                                <li class="field-item"><span class="field-name">last_login</span> <span class="field-type">TIMESTAMP</span></li>
                                <li class="field-item"><span class="field-name">is_active</span> <span class="field-type">BOOLEAN</span> <span class="field-constraint">DEFAULT true</span></li>
                                <li class="field-item"><span class="field-name">email_verified</span> <span class="field-type">BOOLEAN</span> <span class="field-constraint">DEFAULT false</span></li>
                            </ul>
                        </div>
                        <div class="pages-section">
                            <div class="section-title">Used by pages:</div>
                            <div class="page-usage">
                                <div class="page-name">Profile</div>
                                <div class="fields-used">Uses: All fields</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Dashboard</div>
                                <div class="fields-used">Uses: id, username, profile_image, bio, last_login</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Login/Signup</div>
                                <div class="fields-used">Uses: email, username, password_hash, created_at</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Account Settings</div>
                                <div class="fields-used">Uses: All fields except password_hash</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Following</div>
                                <div class="fields-used">Uses: id, username, profile_image</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table">
                    <div class="table-header" onclick="toggleTable(this)">
                        <span>user_preferences</span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="table-content">
                        <div class="fields-section">
                            <div class="section-title">Fields:</div>
                            <ul class="field-list">
                                <li class="field-item"><span class="field-name">id</span> <span class="field-type">UUID</span> <span class="field-constraint">PRIMARY KEY</span></li>
                                <li class="field-item"><span class="field-name">user_id</span> <span class="field-type">UUID</span> <span class="field-constraint">FOREIGN KEY → users.id</span></li>
                                <li class="field-item"><span class="field-name">preference_key</span> <span class="field-type">VARCHAR(100)</span> <span class="field-constraint">NOT NULL</span></li>
                                <li class="field-item"><span class="field-name">preference_value</span> <span class="field-type">TEXT</span></li>
                                <li class="field-item"><span class="field-name">created_at</span> <span class="field-type">TIMESTAMP</span> <span class="field-constraint">DEFAULT NOW()</span></li>
                                <li class="field-item"><span class="field-name">updated_at</span> <span class="field-type">TIMESTAMP</span></li>
                            </ul>
                        </div>
                        <div class="pages-section">
                            <div class="section-title">Used by pages:</div>
                            <div class="page-usage">
                                <div class="page-name">Account Settings</div>
                                <div class="fields-used">Uses: All fields</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Notification Settings</div>
                                <div class="fields-used">Uses: preference_key, preference_value (filtered by key pattern)</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Privacy Settings</div>
                                <div class="fields-used">Uses: preference_key, preference_value (filtered by key pattern)</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Additional tables in this module... -->
            </div>
            
            <!-- Vehicle Management Module -->
            <div class="module">
                <h2 class="module-header">Vehicle Management Module</h2>
                
                <div class="table">
                    <div class="table-header" onclick="toggleTable(this)">
                        <span>bikes</span>
                        <span class="expand-icon">▶</span>
                    </div>
                    <div class="table-content">
                        <div class="fields-section">
                            <div class="section-title">Fields:</div>
                            <ul class="field-list">
                                <li class="field-item"><span class="field-name">id</span> <span class="field-type">UUID</span> <span class="field-constraint">PRIMARY KEY</span></li>
                                <li class="field-item"><span class="field-name">user_id</span> <span class="field-type">UUID</span> <span class="field-constraint">FOREIGN KEY → users.id</span></li>
                                <li class="field-item"><span class="field-name">type</span> <span class="field-type">VARCHAR(50)</span> <span class="field-constraint">CHECK IN ('road','mountain','hybrid','gravel','ebike','other')</span></li>
                                <li class="field-item"><span class="field-name">brand</span> <span class="field-type">VARCHAR(100)</span></li>
                                <li class="field-item"><span class="field-name">model</span> <span class="field-type">VARCHAR(100)</span></li>
                                <li class="field-item"><span class="field-name">year</span> <span class="field-type">INTEGER</span></li>
                                <li class="field-item"><span class="field-name">color</span> <span class="field-type">VARCHAR(50)</span></li>
                                <li class="field-item"><span class="field-name">frame_size</span> <span class="field-type">VARCHAR(20)</span></li>
                                <li class="field-item"><span class="field-name">wheel_size</span> <span class="field-type">VARCHAR(20)</span></li>
                                <li class="field-item"><span class="field-name">weight</span> <span class="field-type">DECIMAL(5,2)</span></li>
                                <li class="field-item"><span class="field-name">purchase_date</span> <span class="field-type">DATE</span></li>
                                <li class="field-item"><span class="field-name">purchase_price</span> <span class="field-type">DECIMAL(10,2)</span></li>
                                <li class="field-item"><span class="field-name">current_value</span> <span class="field-type">DECIMAL(10,2)</span></li>
                                <li class="field-item"><span class="field-name">odometer</span> <span class="field-type">DECIMAL(10,2)</span> <span class="field-constraint">DEFAULT 0</span></li>
                                <li class="field-item"><span class="field-name">is_primary</span> <span class="field-type">BOOLEAN</span> <span class="field-constraint">DEFAULT false</span></li>
                                <li class="field-item"><span class="field-name">is_public</span> <span class="field-type">BOOLEAN</span> <span class="field-constraint">DEFAULT true</span></li>
                                <li class="field-item"><span class="field-name">notes</span> <span class="field-type">TEXT</span></li>
                                <li class="field-item"><span class="field-name">created_at</span> <span class="field-type">TIMESTAMP</span> <span class="field-constraint">DEFAULT NOW()</span></li>
                                <li class="field-item"><span class="field-name">updated_at</span> <span class="field-type">TIMESTAMP</span></li>
                            </ul>
                        </div>
                        <div class="pages-section">
                            <div class="section-title">Used by pages:</div>
                            <div class="page-usage">
                                <div class="page-name">Virtual Garage</div>
                                <div class="fields-used">Uses: All fields</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Add Bike</div>
                                <div class="fields-used">Uses: All fields (for create/edit forms)</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Bike Details</div>
                                <div class="fields-used">Uses: All fields</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Profile</div>
                                <div class="fields-used">Uses: brand, model, year, type, color (only public bikes)</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Rides Dashboard</div>
                                <div class="fields-used">Uses: id, brand, model (for bike selection dropdown)</div>
                            </div>
                            <div class="page-usage">
                                <div class="page-name">Marketplace</div>
                                <div class="fields-used">Uses: All fields when listing a bike for sale</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Additional vehicle tables... -->
            </div>
            
            <!-- Continue with all other modules and tables... -->
        </div>
    </div>
    
    <script>
        function toggleTable(header) {
            const table = header.parentElement;
            table.classList.toggle('expanded');
        }
        
        // Expand all tables by default for complete view
        document.addEventListener('DOMContentLoaded', function() {
            // Remove this if you want tables collapsed by default
            // document.querySelectorAll('.table').forEach(table => {
            //     table.classList.add('expanded');
            // });
        });
    </script>
</body>
</html>