---
layout: dashboard.njk
title: Manage Listings
subtitle: Track and manage your marketplace listings
breadcrumb:
  - title: Marketplace
    url: /marketplace/
  - title: Manage Listings
customCSS:
  - "/assets/css/marketplace.css"
inlineJS: |
  function filterListings(status) {
    const listings = document.querySelectorAll('.listing-item');
    const tabs = document.querySelectorAll('.tab-button');
    
    tabs.forEach(tab => tab.classList.remove('active'));
    document.querySelector(`[data-filter="${status}"]`).classList.add('active');
    
    listings.forEach(listing => {
      if (status === 'all' || listing.dataset.status === status) {
        listing.style.display = 'block';
      } else {
        listing.style.display = 'none';
      }
    });
  }
  
  function toggleListing(id, action) {
    console.log(`${action} listing ${id}`);
    // Implementation for pause/activate listing
  }
  
  function editListing(id) {
    window.location.href = `/edit-listing/${id}/`;
  }
  
  function deleteListing(id) {
    if (confirm('Are you sure you want to delete this listing?')) {
      console.log(`Delete listing ${id}`);
      // Implementation for deleting listing
    }
  }
  
  function renewListing(id) {
    console.log(`Renew listing ${id}`);
    // Implementation for renewing expired listing
  }
---

<div class="manage-listings-container">
  <div class="page-header">
    <div class="header-content">
      <h1>{{ title }}</h1>
      <p class="subtitle">{{ subtitle }}</p>
    </div>
    <div class="header-actions">
      <a href="/sell-item/" class="btn btn-primary">
        <i class="icon">+</i>
        Create New Listing
      </a>
    </div>
  </div>

  <div class="listings-summary">
    <div class="summary-card">
      <div class="summary-value">12</div>
      <div class="summary-label">Active Listings</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">3</div>
      <div class="summary-label">Pending Review</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">156</div>
      <div class="summary-label">Total Views</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">23</div>
      <div class="summary-label">Messages</div>
    </div>
  </div>

  <div class="listings-tabs">
    <button class="tab-button active" data-filter="all" onclick="filterListings('all')">
      All Listings (18)
    </button>
    <button class="tab-button" data-filter="active" onclick="filterListings('active')">
      Active (12)
    </button>
    <button class="tab-button" data-filter="pending" onclick="filterListings('pending')">
      Pending (3)
    </button>
    <button class="tab-button" data-filter="paused" onclick="filterListings('paused')">
      Paused (2)
    </button>
    <button class="tab-button" data-filter="expired" onclick="filterListings('expired')">
      Expired (1)
    </button>
  </div>

  <div class="listings-grid">
    <!-- Active Listing -->
    <div class="listing-item" data-status="active">
      <div class="listing-image">
        <img src="/assets/images/bikes/trek-fuel-ex.jpg" alt="2023 Trek Fuel EX 8">
        <div class="listing-status status-active">Active</div>
      </div>
      
      <div class="listing-content">
        <h3 class="listing-title">2023 Trek Fuel EX 8 - Excellent Condition</h3>
        <p class="listing-price">$2,400</p>
        <div class="listing-meta">
          <span class="meta-item">
            <i class="icon">👁</i>
            47 views
          </span>
          <span class="meta-item">
            <i class="icon">💬</i>
            8 messages
          </span>
          <span class="meta-item">
            <i class="icon">📅</i>
            Posted 5 days ago
          </span>
        </div>
        
        <div class="listing-stats">
          <div class="stat">
            <span class="stat-label">Days remaining:</span>
            <span class="stat-value">25</span>
          </div>
          <div class="stat">
            <span class="stat-label">Interested buyers:</span>
            <span class="stat-value">3</span>
          </div>
        </div>
      </div>
      
      <div class="listing-actions">
        <button class="action-btn primary" onclick="editListing('trek-fuel-1')">
          <i class="icon">✏️</i>
          Edit
        </button>
        <button class="action-btn secondary" onclick="toggleListing('trek-fuel-1', 'pause')">
          <i class="icon">⏸</i>
          Pause
        </button>
        <button class="action-btn danger" onclick="deleteListing('trek-fuel-1')">
          <i class="icon">🗑</i>
          Delete
        </button>
      </div>
    </div>

    <!-- Pending Listing -->
    <div class="listing-item" data-status="pending">
      <div class="listing-image">
        <img src="/assets/images/bikes/specialized-stumpjumper.jpg" alt="2022 Specialized Stumpjumper">
        <div class="listing-status status-pending">Under Review</div>
      </div>
      
      <div class="listing-content">
        <h3 class="listing-title">2022 Specialized Stumpjumper Expert</h3>
        <p class="listing-price">$3,200</p>
        <div class="listing-meta">
          <span class="meta-item">
            <i class="icon">⏱</i>
            Awaiting approval
          </span>
          <span class="meta-item">
            <i class="icon">📅</i>
            Submitted 2 hours ago
          </span>
        </div>
        
        <div class="review-note">
          <p><strong>Review Status:</strong> Your listing is being reviewed for compliance with our marketplace guidelines. This typically takes 2-4 hours.</p>
        </div>
      </div>
      
      <div class="listing-actions">
        <button class="action-btn primary" onclick="editListing('specialized-1')">
          <i class="icon">✏️</i>
          Edit
        </button>
        <button class="action-btn danger" onclick="deleteListing('specialized-1')">
          <i class="icon">🗑</i>
          Delete
        </button>
      </div>
    </div>

    <!-- Paused Listing -->
    <div class="listing-item" data-status="paused">
      <div class="listing-image">
        <img src="/assets/images/bikes/giant-trance.jpg" alt="2021 Giant Trance">
        <div class="listing-status status-paused">Paused</div>
      </div>
      
      <div class="listing-content">
        <h3 class="listing-title">2021 Giant Trance X 29 2</h3>
        <p class="listing-price">$1,800</p>
        <div class="listing-meta">
          <span class="meta-item">
            <i class="icon">👁</i>
            23 views
          </span>
          <span class="meta-item">
            <i class="icon">💬</i>
            2 messages
          </span>
          <span class="meta-item">
            <i class="icon">⏸</i>
            Paused 3 days ago
          </span>
        </div>
        
        <div class="pause-note">
          <p><strong>Paused:</strong> This listing is temporarily hidden from the marketplace.</p>
        </div>
      </div>
      
      <div class="listing-actions">
        <button class="action-btn primary" onclick="toggleListing('giant-1', 'activate')">
          <i class="icon">▶️</i>
          Activate
        </button>
        <button class="action-btn secondary" onclick="editListing('giant-1')">
          <i class="icon">✏️</i>
          Edit
        </button>
        <button class="action-btn danger" onclick="deleteListing('giant-1')">
          <i class="icon">🗑</i>
          Delete
        </button>
      </div>
    </div>

    <!-- Expired Listing -->
    <div class="listing-item" data-status="expired">
      <div class="listing-image">
        <img src="/assets/images/bikes/cannondale-trail.jpg" alt="2020 Cannondale Trail">
        <div class="listing-status status-expired">Expired</div>
      </div>
      
      <div class="listing-content">
        <h3 class="listing-title">2020 Cannondale Trail 5</h3>
        <p class="listing-price">$950</p>
        <div class="listing-meta">
          <span class="meta-item">
            <i class="icon">👁</i>
            89 views
          </span>
          <span class="meta-item">
            <i class="icon">💬</i>
            12 messages
          </span>
          <span class="meta-item">
            <i class="icon">📅</i>
            Expired 2 days ago
          </span>
        </div>
        
        <div class="expired-note">
          <p><strong>Expired:</strong> This listing has reached its expiration date. Renew to make it active again.</p>
        </div>
      </div>
      
      <div class="listing-actions">
        <button class="action-btn primary" onclick="renewListing('cannondale-1')">
          <i class="icon">🔄</i>
          Renew
        </button>
        <button class="action-btn secondary" onclick="editListing('cannondale-1')">
          <i class="icon">✏️</i>
          Edit
        </button>
        <button class="action-btn danger" onclick="deleteListing('cannondale-1')">
          <i class="icon">🗑</i>
          Delete
        </button>
      </div>
    </div>

    <!-- High Performance Listing -->
    <div class="listing-item" data-status="active">
      <div class="listing-image">
        <img src="/assets/images/bikes/santa-cruz-hightower.jpg" alt="2023 Santa Cruz Hightower">
        <div class="listing-status status-active">Active</div>
        <div class="listing-badge featured">Featured</div>
      </div>
      
      <div class="listing-content">
        <h3 class="listing-title">2023 Santa Cruz Hightower CC X01</h3>
        <p class="listing-price">$4,800</p>
        <div class="listing-meta">
          <span class="meta-item">
            <i class="icon">👁</i>
            124 views
          </span>
          <span class="meta-item">
            <i class="icon">💬</i>
            15 messages
          </span>
          <span class="meta-item">
            <i class="icon">📅</i>
            Posted 1 week ago
          </span>
        </div>
        
        <div class="listing-stats">
          <div class="stat">
            <span class="stat-label">Days remaining:</span>
            <span class="stat-value">38</span>
          </div>
          <div class="stat">
            <span class="stat-label">Interested buyers:</span>
            <span class="stat-value">7</span>
          </div>
        </div>
        
        <div class="performance-indicator high">
          <span class="performance-label">📈 High Interest</span>
        </div>
      </div>
      
      <div class="listing-actions">
        <button class="action-btn primary" onclick="editListing('santacruz-1')">
          <i class="icon">✏️</i>
          Edit
        </button>
        <button class="action-btn secondary" onclick="toggleListing('santacruz-1', 'pause')">
          <i class="icon">⏸</i>
          Pause
        </button>
        <button class="action-btn danger" onclick="deleteListing('santacruz-1')">
          <i class="icon">🗑</i>
          Delete
        </button>
      </div>
    </div>
  </div>

  <div class="bulk-actions">
    <div class="bulk-selector">
      <input type="checkbox" id="select-all">
      <label for="select-all">Select All</label>
    </div>
    <div class="bulk-buttons">
      <button class="btn btn-secondary" disabled>Pause Selected</button>
      <button class="btn btn-secondary" disabled>Delete Selected</button>
      <button class="btn btn-primary" disabled>Bulk Edit</button>
    </div>
  </div>
</div>